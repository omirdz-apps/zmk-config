#
# Copyright (c) 2025 The ZMK OmiRdz
# SPDX-License-Identifier: MIT
#

########################################
# üìÑ prj.conf ‚Äî Corne BT (Nice!Nano v2)
# Optimizado para estabilidad, bajo consumo
# y respuesta r√°pida en uso diario
########################################

# =========================
# üîπ BASE ZMK / HARDWARE
# =========================
CONFIG_ZMK_KEYBOARD_NAME="Corne Wireless"
CONFIG_ZMK_SPLIT=y                                      # Habilita modo split
CONFIG_ZMK_SPLIT_ROLE_CENTRAL=y                         # Este lado act√∫a como central
CONFIG_ZMK_SPLIT_BLE=y                                  # Comunicaci√≥n BLE entre mitades
CONFIG_ZMK_BLE=y                                        # Soporte BLE general

# =========================
# üîã ENERG√çA Y SUSPENSI√ìN
# =========================
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=30000                     # Suspende tras 30 s de inactividad
CONFIG_ZMK_IDLE_SLEEP_WAKEUP_DELAY=50                   # Retardo m√≠nimo al despertar (ms)
CONFIG_ZMK_EXT_POWER=y                                  # Permite apagar perif√©ricos extra
CONFIG_BT_BUF_ACL_RX_SIZE=60                            # Buffer RX reducido para ahorrar RAM
CONFIG_BT_BUF_ACL_TX_SIZE=60                            # Buffer TX reducido
CONFIG_BT_BUF_ACL_TX_COUNT=4                            # Menos paquetes en vuelo ‚Üí menos consumo

# =========================
# ‚è±Ô∏è LATENCIA Y RESPUESTA
# =========================
CONFIG_BT_PERIPHERAL_PREF_SLAVE_LATENCY=0               # Sin latencia extra ‚Üí respuesta inmediata
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=400                   # Timeout supervisi√≥n 4 s ‚Üí reconexi√≥n r√°pida

# =========================
# üõ°Ô∏è ESTABILIDAD EXTRA
# =========================
CONFIG_BT_CTLR_LE_ENC=n                                 # Desactiva cifrado si no es necesario
CONFIG_BT_PHY_UPDATE=n                                  # Evita renegociar PHY
CONFIG_BT_DATA_LEN_UPDATE=n                             # Evita renegociar tama√±o de paquete
CONFIG_BT_FIXED_PASSKEY=n                               # Sin clave fija en RAM
CONFIG_ZMK_BLE_PASSKEY_ENTRY=n                          # Desactiva entrada de PIN

# =========================
# ‚å®Ô∏è ENTRADA Y ESCANEADO
# =========================
CONFIG_ZMK_KSCAN_MATRIX_POLLING_INTERVAL=1              # Escaneo r√°pido (ms)
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=5                    # Debounce al presionar
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5                  # Debounce al soltar

# =========================
# üõ†Ô∏è DEBUG OPCIONAL
# =========================
# CONFIG_LOG=y                                          # Habilitar logs (solo para debug)
# CONFIG_ZMK_USB_LOGGING=y                              # Logs por USB
# CONFIG_BT_DEBUG_LOG=y                                 # Logs BLE
